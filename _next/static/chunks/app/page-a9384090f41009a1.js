(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{20210:function(e,t,i){Promise.resolve().then(i.bind(i,58578))},58578:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return U}});var a=i(57437),r=i(2265),n=i(99397),o=i(17689),l=i(92735),s=i(18930),d=i(2207),c=i(16210),u=i(2069),x=i(53410),h=i(92253),g=i(19978),p=i(5002),b=i(14374),m=i(94013),f=i(19643),j=i(82279),v=i(10811),Z=i(72441),w=i(59832),y=i(44580),C=i(22095),k=i(70208),S=i(32281),F=i(54301),D=i(61201),N=i(59469),P=i(29239),R=i(82023),A=i(24311),O=i(4964),E=i(9084),I=i(33145);let T=(0,E.Z)(x.Z)({position:"fixed",bottom:20,right:20,padding:"16px",borderRadius:"8px",backgroundColor:"#FFF0F5",border:"2px solid #FF69B4",display:"flex",alignItems:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"});var W=e=>{let{message:t}=e;return(0,a.jsxs)(T,{children:[(0,a.jsx)(I.default,{src:"/happy.gif",alt:"Waifu Happy",width:"100",style:{marginRight:"16px",borderRadius:"8px"}}),(0,a.jsx)(p.Z,{variant:"body1",children:t})]})},M=i(92798);let B="/expense-tracker",z=(0,c.ZP)(u.Z)({height:300,width:"100%","& > div":{width:"100% !important",height:"100% !important"}}),L=(0,c.ZP)(x.Z)({borderRadius:8,overflow:"hidden",height:"100%"}),V=(0,c.ZP)(h.ZP)({"& .MuiDrawer-paper":{width:500,backgroundColor:"#FFF0F5",border:"2px solid #FF69B4",borderRadius:"8px 0 0 8px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",padding:16}}),_=(0,c.ZP)(u.Z)({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundImage:"url(/elf.png)",backgroundSize:"cover",backgroundPosition:"center",zIndex:-1,filter:"brightness(0.7) saturate(1.2)",overflow:"hidden","&::before, &::after, & .bubble-1, & .bubble-2, & .bubble-3, & .bubble-4":{content:'""',position:"absolute",width:"100px",height:"100px",background:"radial-gradient(circle, rgba(0,255,0,0.5) 0%, rgba(0,255,0,0) 70%)",borderRadius:"50%",animation:"move 5s infinite alternate"},"&::before":{top:"20%",left:"30%",animationDelay:"0s"},"&::after":{top:"60%",left:"70%",animationDelay:"2.5s"},"& .bubble-1":{top:"40%",left:"50%",animationDelay:"1.25s"},"& .bubble-2":{top:"80%",left:"20%",animationDelay:"3.75s"},"& .bubble-3":{top:"10%",left:"80%",animationDelay:"1.75s"},"& .bubble-4":{top:"70%",left:"10%",animationDelay:"4.25s"},"@keyframes move":{"0%":{transform:"translate(0, 0) scale(1)"},"100%":{transform:"translate(50px, 50px) scale(1.5)"}}}),H=(0,c.ZP)(u.Z)({position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1,"&::before, &::after, & .glow-top, & .glow-bottom, & .glow-left, & .glow-right":{content:'""',position:"absolute",background:"linear-gradient(to right, rgba(0,255,0,0) 0%, rgba(0,255,0,1) 50%, rgba(0,255,0,0) 100%)",animation:"glow 2s infinite alternate"},"&::before":{top:0,left:0,width:"100%",height:"5px"},"&::after":{bottom:0,left:0,width:"100%",height:"5px"},"& .glow-left":{top:0,left:0,width:"5px",height:"100%",background:"linear-gradient(to bottom, rgba(0,255,0,0) 0%, rgba(0,255,0,1) 50%, rgba(0,255,0,0) 100%)"},"& .glow-right":{top:0,right:0,width:"5px",height:"100%",background:"linear-gradient(to bottom, rgba(0,255,0,0) 0%, rgba(0,255,0,1) 50%, rgba(0,255,0,0) 100%)"},"@keyframes glow":{"0%":{opacity:.5},"100%":{opacity:1}}});var Y=()=>{var e;let[t,i]=(0,r.useState)([]),[c,h]=(0,r.useState)(""),[E,T]=(0,r.useState)(""),[Y,U]=(0,r.useState)(""),[X,q]=(0,r.useState)(""),[G,J]=(0,r.useState)(""),[K,Q]=(0,r.useState)(!1),[$,ee]=(0,r.useState)(null),[et,ei]=(0,r.useState)(null),ea=(0,r.useRef)(null),[er,en]=(0,r.useState)(""),[eo,el]=(0,r.useState)("asc"),[es,ed]=(0,r.useState)(""),[ec,eu]=(0,r.useState)("asc"),[ex,eh]=(0,r.useState)(null),eg=()=>{eh(null)},ep="#FFF0F5",eb="#FF69B4",em=()=>Object.entries((er?t.filter(e=>e.category===er):t).reduce((e,t)=>(e[t.category]=(e[t.category]||0)+t.amount,e),{})).map(e=>{let[t,i]=e;return{id:t,label:t,value:i}}),ef=()=>Object.entries(t.reduce((e,t)=>{let i=t.date.substring(0,7);return e[i]=(e[i]||0)+t.amount,e},{})).sort((e,t)=>e[0].localeCompare(t[0])).map(e=>{let[t,i]=e;return{month:t,value:i}}),ej=async()=>{let e=new Blob([["Date,Category,Amount,Note",...t.map(e=>"".concat(e.date,",").concat(e.category,",").concat(e.amount,",").concat(e.note||""))].join("\n")],{type:"text/csv"});try{if(window.showSaveFilePicker){let t=await window.showSaveFilePicker({suggestedName:"expenses.csv",types:[{description:"CSV Files",accept:{"text/csv":[".csv"]}}]}),i=await t.createWritable();await i.write(e),await i.close()}else console.error("showSaveFilePicker is not supported in this browser.")}catch(e){console.error("Error saving the file:",e)}},ev=e=>{i(t.filter(t=>t.id!==e))},eZ=e=>{h(e.amount.toString()),T(e.category),U(e.date),q(e.note||""),ei(e.id)},ew=e=>{ee($===e?null:e)};return(0,a.jsxs)(g.Z,{maxWidth:"xl",sx:{py:3,position:"relative"},children:[(0,a.jsxs)(_,{children:[(0,a.jsx)(u.Z,{className:"bubble-1"}),(0,a.jsx)(u.Z,{className:"bubble-2"}),(0,a.jsx)(u.Z,{className:"bubble-3"}),(0,a.jsx)(u.Z,{className:"bubble-4"})]}),(0,a.jsxs)(H,{children:[(0,a.jsx)(u.Z,{className:"glow-left"}),(0,a.jsx)(u.Z,{className:"glow-right"})]}),(0,a.jsxs)(x.Z,{elevation:3,sx:{bgcolor:"".concat(ep,"CC"),borderRadius:4,p:4,position:"relative",overflow:"hidden",border:"2px solid ".concat(eb),backdropFilter:"blur(10px)"},children:[(0,a.jsx)(u.Z,{sx:{position:"absolute",right:5,top:10,width:120,opacity:1},children:(0,a.jsx)(I.default,{src:"".concat(B,"/waifu.gif"),alt:"Waifu Assistant",width:"100",style:{borderRadius:"10px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"}})}),(0,a.jsx)(p.Z,{variant:"h3",align:"center",gutterBottom:!0,sx:{color:eb,fontWeight:"bold",mb:4},children:"✨ Zakaria's Expense Tracker ✨"}),(0,a.jsx)(x.Z,{elevation:2,sx:{p:3,mb:3,borderRadius:2,bgcolor:"".concat(ep,"CC"),backdropFilter:"blur(10px)"},children:(0,a.jsx)(u.Z,{component:"form",onSubmit:e=>{if(e.preventDefault(),!c||!E||!Y)return;let t={id:null!=et?et:Date.now(),amount:parseFloat(c),category:E,date:Y,note:X};et?(i(e=>e.map(e=>e.id===et?t:e)),ei(null)):i(e=>[...e,t]),h(""),T(""),U(""),q(""),Q(!0),setTimeout(()=>Q(!1),2e3)},children:(0,a.jsxs)(P.Z,{container:!0,spacing:2,component:"div",sx:{display:"flex"},children:[(0,a.jsx)(P.Z,{component:"div",sx:{flex:1,width:{xs:"100%",md:"33%"}},children:(0,a.jsx)(b.Z,{fullWidth:!0,label:"Amount",type:"number",value:c,onChange:e=>h(e.target.value),InputProps:{startAdornment:(0,a.jsx)(R.Z,{size:16,style:{marginRight:8}})},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:eb}}}})}),(0,a.jsx)(P.Z,{component:"div",sx:{flex:1,width:{xs:"100%",md:"33%"}},children:(0,a.jsx)(b.Z,{fullWidth:!0,label:"Category",value:E,onChange:e=>T(e.target.value),sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:eb}}}})}),(0,a.jsx)(P.Z,{component:"div",sx:{flex:1,width:{xs:"100%",md:"33%"}},children:(0,a.jsx)(b.Z,{fullWidth:!0,label:"Date",type:"date",value:Y,onChange:e=>U(e.target.value),InputLabelProps:{shrink:!0},InputProps:{placeholder:"jj/mm/aaaa"},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:eb}}}})}),(0,a.jsx)(P.Z,{component:"div",sx:{flex:1,width:{xs:"100%",md:"33%"}},children:(0,a.jsx)(b.Z,{fullWidth:!0,label:"Note",value:X,onChange:e=>q(e.target.value),sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:eb}}}})}),(0,a.jsx)(P.Z,{component:"div",sx:{flex:1,width:{xs:"100%",md:"33%"}},children:(0,a.jsx)(m.Z,{fullWidth:!0,type:"submit",variant:"contained",startIcon:(0,a.jsx)(n.Z,{}),sx:{bgcolor:eb,"&:hover":{bgcolor:"#FFB6C1"},height:"56px"},children:et?"Update Expense":"Add Expense"})})]})})}),(0,a.jsxs)(f.Z,{direction:"row",spacing:2,justifyContent:"center",sx:{mb:3},children:[(0,a.jsx)("input",{type:"file",ref:ea,onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;let r=new FileReader;r.onload=t=>{try{var a;let r=(null===(a=t.target)||void 0===a?void 0:a.result).split("\n"),n=r[0].split(",");if(4!==n.length||!n.includes("Date")||!n.includes("Category")||!n.includes("Amount")||!n.includes("Note"))throw Error("Invalid CSV format. Please use the format: Date,Category,Amount,Note");let o=r.slice(1).filter(e=>e.trim()).map(e=>{let[t,i,a,r]=e.split(",");return{id:Date.now()+Math.random(),date:t.trim(),category:i.trim(),amount:parseFloat(a.trim()),note:r.trim()}});i(e=>[...e,...o]),J(""),e.target&&(e.target.value="")}catch(e){J(e.message)}},r.readAsText(a)},accept:".csv",style:{display:"none"}}),(0,a.jsx)(m.Z,{variant:"outlined",onClick:()=>{var e;null===(e=ea.current)||void 0===e||e.click()},startIcon:(0,a.jsx)(o.Z,{}),sx:{color:eb,borderColor:eb},children:"Load CSV"}),(0,a.jsx)(m.Z,{variant:"outlined",onClick:ej,startIcon:(0,a.jsx)(l.Z,{}),sx:{color:eb,borderColor:eb},children:"Download CSV"})]}),G&&(0,a.jsx)(j.Z,{severity:"error",sx:{mb:3},children:G}),(0,a.jsxs)(P.Z,{container:!0,spacing:5,justifyContent:"center",direction:"row",sx:{mb:5,width:"100%"},component:"div",children:[(0,a.jsx)(P.Z,{component:"div",sx:{width:{xs:"100%",md:"40%"}},children:(0,a.jsxs)(L,{elevation:2,children:[(0,a.jsxs)(u.Z,{sx:{p:2},children:[(0,a.jsx)(p.Z,{variant:"h6",gutterBottom:!0,align:"center",children:"Expenses by Category"}),(0,a.jsx)(z,{children:em().length>0?(0,a.jsx)(A.Y2,{data:em(),margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"nivo"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLabelsSkipAngle:10,arcLabelsTextColor:"#333333",arcLabel:e=>"".concat(e.value.toFixed(2))}):(0,a.jsx)(p.Z,{align:"center",color:"textSecondary",sx:{mt:10},children:"No data available"})})]}),(0,a.jsxs)(u.Z,{sx:{mb:3},children:[(0,a.jsx)(b.Z,{label:"Filter by Category",value:er,onChange:e=>en(e.target.value),fullWidth:!0,sx:{mb:2}}),(0,a.jsxs)(v.Z,{value:es,onChange:e=>{ed(e.target.value),en(e.target.value)},displayEmpty:!0,fullWidth:!0,sx:{mb:2},children:[(0,a.jsx)(Z.Z,{value:"",children:(0,a.jsx)("em",{children:"None"})}),Array.from(new Set(t.map(e=>e.category))).map(e=>(0,a.jsx)(Z.Z,{value:e,children:e},e))]})]})]})}),(0,a.jsx)(P.Z,{component:"div",sx:{width:{xs:"100%",md:"40%"}},children:(0,a.jsx)(L,{elevation:2,children:(0,a.jsxs)(u.Z,{sx:{p:2},children:[(0,a.jsx)(p.Z,{variant:"h6",gutterBottom:!0,align:"center",children:"Monthly Expenses"}),(0,a.jsx)(z,{children:ef().length>0?(0,a.jsx)(O.jM,{data:ef(),keys:["value"],indexBy:"month",margin:{top:50,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:{scheme:"nivo"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Month",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Amount",legendPosition:"middle",legendOffset:-40},label:e=>{var t;return"".concat(null===(t=e.value)||void 0===t?void 0:t.toFixed(2))},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],role:"application",ariaLabel:"Nivo bar chart demo",barAriaLabel:function(e){return e.id+": "+e.formattedValue+" in month: "+e.indexValue}}):(0,a.jsx)(p.Z,{align:"center",color:"textSecondary",sx:{mt:10},children:"No data available"})})]})})})]}),(0,a.jsxs)(x.Z,{elevation:2,sx:{p:3,borderRadius:2},children:[(0,a.jsx)(p.Z,{variant:"h6",gutterBottom:!0,children:"Recent Expenses"}),(0,a.jsx)(w.Z,{onClick:e=>{eh(e.currentTarget)},children:(0,a.jsx)(M.Z,{})}),(0,a.jsxs)(y.Z,{anchorEl:ex,open:!!ex,onClose:eg,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,a.jsxs)(Z.Z,{onClick:()=>{el(e=>"asc"===e?"desc":"asc"),eu(null),eg()},children:["Date Order: ","asc"===eo?"Ascending":"Descending"]}),(0,a.jsxs)(Z.Z,{onClick:()=>{eu(e=>"asc"===e?"desc":"asc"),el(null),eg()},children:["Price Order: ","asc"===ec?"Ascending":"Descending"]})]}),(0,a.jsx)(C.Z,{children:(0,a.jsxs)(k.Z,{children:[(0,a.jsx)(S.Z,{children:(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(D.Z,{children:"Date"}),(0,a.jsx)(D.Z,{children:"Category"}),(0,a.jsx)(D.Z,{align:"right",children:"Amount"}),(0,a.jsx)(D.Z,{align:"right",children:"Note"}),(0,a.jsx)(D.Z,{align:"right",children:"Actions"})]})}),(0,a.jsx)(N.Z,{children:t.slice().sort((e,t)=>{if(eo&&ec){let i="asc"===eo?new Date(e.date).getTime()-new Date(t.date).getTime():new Date(t.date).getTime()-new Date(e.date).getTime();return 0!==i?i:"asc"===ec?e.amount-t.amount:t.amount-e.amount}return eo?"asc"===eo?new Date(e.date).getTime()-new Date(t.date).getTime():new Date(t.date).getTime()-new Date(e.date).getTime():ec?"asc"===ec?e.amount-t.amount:t.amount-e.amount:0}).map(e=>(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(D.Z,{children:e.date}),(0,a.jsx)(D.Z,{children:e.category}),(0,a.jsx)(D.Z,{align:"right",children:e.amount}),(0,a.jsx)(D.Z,{align:"right",children:e.note&&(0,a.jsx)(m.Z,{variant:"text",onClick:()=>ew(e.id),children:"View Note"})}),(0,a.jsxs)(D.Z,{align:"right",children:[(0,a.jsx)(m.Z,{variant:"outlined",color:"secondary",onClick:()=>ev(e.id),children:(0,a.jsx)(s.Z,{size:16})}),(0,a.jsx)(m.Z,{variant:"outlined",color:"primary",onClick:()=>eZ(e),children:(0,a.jsx)(d.Z,{size:16})})]})]},e.id))})]})})]})]}),K&&(0,a.jsx)(W,{message:"✨ Expense added successfully! ✨"}),(0,a.jsx)(V,{anchor:"right",open:null!==$,onClose:()=>ee(null),children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{variant:"h6",gutterBottom:!0,children:"Note"}),(0,a.jsx)(p.Z,{variant:"body1",children:null===(e=t.find(e=>e.id===$))||void 0===e?void 0:e.note}),(0,a.jsx)(u.Z,{sx:{position:"absolute",bottom:16,right:16},children:(0,a.jsx)(I.default,{src:"".concat(B,"/note.gif"),alt:"Note",width:"250",style:{borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"}})})]})})]})};function U(){return(0,a.jsx)("main",{children:(0,a.jsx)(Y,{})})}}},function(e){e.O(0,[140,169,971,117,744],function(){return e(e.s=20210)}),_N_E=e.O()}]);